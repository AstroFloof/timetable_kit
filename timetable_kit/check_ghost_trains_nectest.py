#! /usr/bin/env python3
# check_ghost_trains.py
# Part of timetable_kit
# Copyright 2021, 2022 Nathanael Nerode.  Licensed under GNU Affero GPL v.3 or later.
# Initial version started by Christopher Juckins

import sys
from urllib.request import Request, urlopen

if __name__ == "__main__":
    
    #--- 
    # Quick comparison framework test
    #---
    # Below gathered and concatenated with: 
    # ./find_trains.py NYP PHL BOS NYP
    # ./find_trains.py PHL NYP NYP BOS
    # Note that you will then need to subtract trains running HAR-PHL
    csv_input = ['2151', '2153', '2249', '95', '195', '2155', '2251', '171', '99', '2159', '93', '161', '87', '85', '2163', '2253', '173', '163', '2261', '2165', '149', '2167', '2255', '135', '137', '2181', '2169', '2257', '2171', '165', '175', '2259', '2173', '167', '2275', '2175', '177', '139', '169', '169', '179', '67', '65', '151', '111', '2103', '89', '51', '661', '2107', '183', '79', '641', '79', '2203', '153', '185', '2151', '2205', '155', '663', '643', '141', '143', '2153', '2249', '121', '95', '43', '2155', '91', '195', '125', '2213', '2251', '645', '157', '171', '147', '609', '145', '2215', '2159', '665', '99', '2121', '93', '161', '647', '19', '649', '2163', '2253', '87', '85', '667', '97', '173', '2165', '2261', '651', '163', '127', '189', '129', '2167', '2255', '159', '149', '653', '669', '193', '2181', '2119', '2169', '135', '137', '655', '55', '2257', '2171', '57', '175', '671', '2259', '165', '2173', '657', '2275', '2175', '123', '187', '139', '169', '639', '637', '65', '67', '2190', '190', '150', '2290', '2150', '170', '160', '2152', '162', '2154', '172', '2248', '2158', '2250', '152', '86', '164', '2160', '174', '82', '2252', '154', '88', '2164', '176', '2166', '2254', '2168', '194', '2260', '184', '96', '94', '2170', '2256', '168', '2172', '2258', '132', '178', '166', '66', '180', '170', '640', '2152', '642', '162', '130', '2154', '600', '172', '54', '660', '2104', '2248', '644', '56', '152', '152', '662', '2250', '2158', '86', '646', '164', '182', '664', '2160', '648', '174', '154', '82', '2252', '84', '88', '666', '2164', '176', '650', '140', '2166', '2254', '194', '184', '96', '42', '2168', '2260', '94', '670', '156', '2178', '2170', '2256', '2218', '148', '132', '652', '168', '122', '2172', '134', '2258', '178', '126', '146', '2122', '2222', '654', '196', '80', '80', '672', '166', '192', '2124', '2224', '656', '138', '158', '2126', '658', '674', '2228', '2128', '90', '124', '186', '624', '66', '98', '20', '20', '92', '50']
    print('csv_input: ', csv_input)
    print('')

    with open("trains_running_nectest.txt") as f:
        trains_running = [line.rstrip('\n') for line in f]
    print('trains_running: ', trains_running)
    print('')
    
    missing_from_csv_input = list(set(trains_running).difference(csv_input))
    print('missing_from_csv_input:', missing_from_csv_input)
    print('')
    
    csv_ghost_train = list(set(csv_input).difference(trains_running))
    print('csv_ghost_train: ', csv_ghost_train)
