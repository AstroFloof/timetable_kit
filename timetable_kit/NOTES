Code cleaning:
-- run black *.py */*.py
-- run docformatter -r -i --black .
-- run mypy .

I am currently using WeasyPrint for HTML->PDF conversion because it is also a Python package.
-- Weasyprint can't handle inline SVGs.
-- Weasyprint also can't handle variable-weight fonts.  Oh Well.

-- It is hard to test PDFs.  At least on my monitor...
--- Okular needs to be set at 90% zoom to show it real size.
--- Evince needs to be set at 50% zoom to show it real size.

We can convert a SINGLE PAGE PDF to a JPEG as follows:
(this is implemented in the current program):
vips copy tt_foo.pdf[dpi=300] tt_foo.jpg
A much slower alternative (it is readable) is:
pdftoppm -jpeg -r 300 -singlefile tt_foo.pdf tt_foo

Merging individual PDF pages can be done in an external program.
We do not currently need to do this, but incase it's necessary:
One which works is
pdftk empire-service-wb.pdf empire-service-eb.pdf output empire-service.pdf
The program is actually in the package "pdftk-java".


Amtrak train numbers are in the "trip_short_name" field of GTFS static data
Amtrak station codes are in the "stop_id" field of GTFS static data.
Amtrak trip_ids currently consist of the trip_short_name with the service_id concatenated after it.  This might change.

Amtrak GTFS has some problems.  It frequently has one-day "calendars".  These aren't really desirable for normal
printed timetables.  It's also missing a reasonable end date on certain services.  Has to be massaged by hand...

Station full names are retrieved from the Amtrak station data on the Web which is on the web in json format;
the json files for the station data must be downloaded in advance, 
using './amtrak/json_stations.py download' into the ./amtrak/stations/ directory.
This is to avoid beating too hard on Amtrak's website.

Jinja2 templates are probably a good idea for forking the code into
weasyprint and non-weasyprint varieties.

PANDAS also relies on Jinja2 templates located in /usr/lib/python3/dist-packages/pandas/io/formats/templates
And it would make a lot of sense to pass a custom template to the Styler to overcome certain problems.
